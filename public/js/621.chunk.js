(self.webpackChunkgitbook_clone=self.webpackChunkgitbook_clone||[]).push([[621],{48621:(t,e,r)=>{"use strict";r.r(e),r.d(e,{userDraftStoreCreator:()=>S});var n,a=r(2316),o=r(73021),u=r(23549);function c(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(t){t.UPDATE_VALUE="user-draft-store/update-value",t.SET_ERROR="user-draft-store/set-error",t.RESET_STATES="user-draft-store/reset-states",t.SET_ACTIVE_SPACE="user-draft-store/set-active-space"}(n||(n={}));var i=function(t){return"object"===s(t)&&!Array.isArray(t)},f={getState:function(t){return function(e){return e[o.cR.USER_DRAFT_STORE][t]}},getStoreStates:function(t){return function(e){var r=e[o.cR.USER_DRAFT_STORE],n=t.map((function(t){var e=r[t];return[t,i(e)?e.value:e]}));return new Map(n)}}},S={store:new(function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,r;return e=t,(r=[{key:"getDraftState",value:function(t){return this.getUserInputsStore(t)}},{key:"getDraftValues",value:function(t){var e=this,r={};return t.forEach((function(t){var n=e.getUserInputsStore(t);r[t]=i(n)?n.value:n})),r}},{key:"updateValue",value:function(t){u.tO.dispatch(function(t){return{type:n.UPDATE_VALUE,payload:{updatedDraft:t}}}(t))}},{key:"setError",value:function(t){u.tO.dispatch(function(t){return{type:n.SET_ERROR,payload:{updatedDraft:t}}}(t))}},{key:"resetStates",value:function(t){u.tO.dispatch(function(t){return{type:n.RESET_STATES,payload:{resetedStates:t}}}(t))}},{key:"setActiveSpace",value:function(t){u.tO.dispatch(function(t){return{type:n.SET_ACTIVE_SPACE,payload:{activeSpace:t}}}(t))}},{key:"getUserInputsStore",value:function(t){return u.tO.getState()[o.cR.USER_DRAFT_STORE][t]}}])&&c(e.prototype,r),t}()),storeSelectors:f,storeReducer:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.E,e=arguments.length>1?arguments[1]:void 0,r=e.type,o=e.payload;switch(r){case n.UPDATE_VALUE:case n.SET_ERROR:return Object.assign(Object.assign({},t),o.updatedDraft);case n.RESET_STATES:return Object.assign(Object.assign({},t),o.resetedStates);case n.SET_ACTIVE_SPACE:return Object.assign(Object.assign({},t),o.activeSpace);default:return t}}}}}]);